# 索引
## 一、定义
　　索引是存储引擎用于快速找到记录的一种数据结构。

## 二、索引的优缺点
### 1.优点
* 索引大大减小了服务器需要扫描的数据量，从而大大加快数据的检索速度。
* 索引可以帮助服务器避免排序和创建临时表。
* 索引可以将随机IO变成顺序IO。
* 可以加速表和表之间的连接，特别是在实现数据的参考完整性方面特别有意义。
* 在使用分组和排序子句进行数据检索时，同样可以显著减少查询中分组和排序的时间。

### 2.缺点
* 创建索引和维护索引要耗费时间，这种时间随着数据量的增加而增加。
* 索引需要占物理空间，除了数据表占用数据空间之外，每一个索引还要占用一定的物理空间，如果需要建立聚簇索引，那么需要占用的空间会更大。
* 对表中的数据进行增、删、改的时候，索引也要动态的维护，这就降低了维护速度。
* 对于非常小的表，大部分情况下简单的全表扫描更高效。

## 三、创建索引
### 1.创建索引的原则
#### （1）应该创建索引的列
* 在经常需要搜索的列上，可以加快搜索的速度。
* 在经常用在连接（JOIN）的列上，这些列主要是一外键，可以加快连接的速度。
* 在经常需要根据范围（<，<=，=，>，>=，BETWEEN，IN）进行搜索的列上创建索引，因为索引已经排序，其指定的范围是连续的。
* 在经常需要排序（order by）的列上创建索引，因为索引已经排序，这样查询可以利用索引的排序，加快排序查询时间。
* 在经常使用在WHERE子句中的列上面创建索引，加快条件的判断速度。

####（2）不应该创建索引的列
* 对于那些在查询中很少使用或者参考的列不应该创建索引。
* 对于那些只有很少数据值或者重复值多（区分度低）的列也不应该增加索引。
* 对于那些定义为text, image和bit数据类型的列不应该增加索引。

### 2.索引的类型
#### （1）按功能划分
* 主键索引

    一张表只能有一个主键索引，不允许重复、不允许为 NULL。
    ```sql
  ALTER TABLE TABLE_NAME ADD PRIMARY KEY (column_list);
  ```

* 唯一索引

    数据列不允许重复，允许为 NULL 值，一张表可有多个唯一索引，索引列的值必须唯一，但允许有空值。如果是组合索引，则列值的组合必须唯一。
    ```sql
  CREATE UNIQUE INDEX INDEX_NAME ON TABLE_NAME(column_list);
  # 或
  ALTER TABLE TABLE_NAME ADD UNIQUE (column_list);   
  ```

* 普通索引

    一张表可以创建多个普通索引，一个普通索引可以包含多个字段，允许数据重复，允许 NULL 值插入；
    ```sql
  CREATE INDEX INDEX_NAME ON TABLE_NAME(column_list);
  # 或
  ALTER TABLE TABLE_NAME ADD INDEX INDEX_NAME(column_list);
  ```

* 全文索引

    它查找的是文本中的关键词，主要用于全文检索。
    ```sql
  CREATE FULLTEXT INDEX INDEX_NAME ON TABLE_NAME(column_list);
  # 或
  ALTER TABLE TABLE_NAME ADD FULLINDEX INDEX_NAME(column_list); 
  ```

#### （2）物理分类
* 聚簇索引
* 非聚簇索引

## 四、索引优化